import Foundation
import CoreGraphics

class Solution {
//    func hasAllCodes(_ s: String, _ k: Int) -> Bool {
//        guard s.count >= k else { return false }
//
//        var stringSet: Set<String> = [] // Set: make sure every elements are unique
//        for i in 0...s.count-k {
//            let start = s.index(s.startIndex, offsetBy: i)
//            let end = s.index(start, offsetBy: k)
//            let subString = s[start..<end]
//            stringSet.insert(String(subString))
//        }
//
//        return stringSet.count == Int(pow(Double(2), Double(k)))
//    }
    
    // char array -> substing in swift has lower performace
    func hasAllCodes(_ s: String, _ k: Int) -> Bool {
        let charArray = Array(s)
        guard charArray.count >= k else { return false }
            
        var stringSet: Set<String> = [] // Set: make sure every elements are unique
        for i in 0...charArray.count-k {
            var subString = ""
            for j in i..<i+k {
                subString.append(String(charArray[j]))
            }
            stringSet.insert(subString)
        }
        
        return stringSet.count == Int(pow(Double(2), Double(k)))
    }
}

// Notes.
// Input: s = "00110110", k = 2
// Output: true
// Explanation: The binary codes of length 2 are "00", "01", "10" and "11". They can be all found as substrings at indices 0, 1, 3 and 2 respectively.
// count is 2^k: 0 -> 00, 1 -> 01, 2 -> 10, 3 -> 11

let sol = Solution()
print(sol.hasAllCodes("00110110", 2)) // true
print(sol.hasAllCodes("0110", 1)) // true
print(sol.hasAllCodes("0110", 2)) // false
// Time Limit Exceeded
print(sol.hasAllCodes("0101110110100011011011011110011000110100101101000110100000100001101111010111001100101001010000101111110100010111011101001111011100010100101010000011011011110110100111011010000101101111110101110110000001111000010011110110111111011010110110111000100101011111110001110001101101000010000100111101010010001011110011011010011010110001000000000001110111101101111001010001100110110000010100100111010111011111111000101111101001100110101110010100011110010001100001111111101100011100110110010110101011011010101011011100100100110100011010001101100001010111001111100010000110100000011110000100011000010010000001011101100011101011001000101110100000100000001110000110110011011011001111111101001001011010110100100110110101110000100011101011011100110010100010100001110111111110100001001011100110110010011010011001111011001010111001101000001101110110011011101010010001111011011111010100100000111010101011100001010011110001000011101111110011001111100111111001101100111001000111100100001101011101011101111111110111010011101000000001101101011011001011111010011100101101010110111011100010101001001010000001001010000101001000001000111011000001000110101011110100111110110001110011001111001101010000010011100101101100101010000110000001111000100101011100001010100000010000111010001001000010101111100100000101001001010000001010011101110110110110000111110110000001011000010110110011111011000001110000011010001111100001001110001100111110001001111010110111011100001001101010100011110110101101011001000100100011000101010000111100000010000011111001011001000110111001111110011110100110111011101000011111011001011101111001000000010001000111110000000001010101100110100001111011011001101010111101001101001110111011011110111010001111001110100100110110001010000001001000101111100011101010000010010010111101011110001101111110100100110111110100010010011101011010110101010001110000100010110000110000111010110100100000011011100100110100010100011010010010101001011010101100001110111101000101010011101100010110110011110110000111100010011111101001110001010101011011111000000010110010010010010001011101010000000111110010001001100000010000010011001010001100010101101000001100010010100100111100000111110001000000110000011001100101010011101000111110101111000110010111000110101000100100010000111111110111001101100000001101001111000101111010001010000000111001100110001001001000010000111001111010011111100001010110110000110011000010110011110010010010000011110100111001111011011110001110001110011011111110101010000111101100100110111111101010010000111011101101111101000000111011001000001100101010100110001100111000010101111100111011010110011100000111001011111001010011110101011010010100111010010101111111101110010111101000101110110011000010110011001010101011100000110101111111100100101111011101001100110110011110111001100010100001010010110111100000111101110010010100111000100101101010111101010000000011101101001111110100101011011111000001001101110001011001011101010011100100101111011110000010101000111011111010101111101011100010101010011001100000000011010011110010000010001001111101001010110101111001000011111100100110101101101110010001001100000100011101110111001111110011000001000111010101110100100101101011101100110110100000100111110110001000010000011000011101011001111000110110111111000100010111100110100010001001101110000010100110100110011001000011111011111001010111000101010100101111101110111010001110110101100110011010010000110011000110101010111011001001100101111011011111010111100110110000001110001010011101100101010011000111100001110110010100110011111011001111000000111111111011001001001111001000101011000011000000101011011001011010000110011010011001001110011110001100011011000010000111010010101110111010100000111110000110010001010010110101100111010110110101110110001011010100101110000110000110110100111111011010111110011100101011111000001100011000011000001010001101100101110111101101010001010101000111001100110101100110110110101010101111000010001101101001110101010100011110001100110110001101011110000011110011101110011100011101110101010101001101000001110111100110001100010101101101001011101001011111001001011001000101010111000101010001101101110101100000000101100001101111010010110000101100110111110100001111010001101001001011010000010010010101110100001011000111101100110110111101111010001010001111111011110011100101001100110011111110010011111001000000000011101110000000111001111101111000100001010110111110001011110101001010101111010110000010101101100011011001100001000010110100110001001100011001110000011101011000110001011001111011111000100101111000011001000111110100010111000110010000000010101001100001110010110100000100000111100101000111101111100100101001101011000010000001000110111001011111100010110010001001001001000000010011010000101001000000010001000011011000100011000010010010011011100010111001111101101101111000010001010010111000010110001010110011111110011010011000000010101011101000011000111111101110101000100100110010100111000010001101110010111110010001011111110001000000111101111010101011001010101010000111111110111101111111010001101010001111011011000000001011001110000000011100000001011100100100110000011100000110000101111011010010110010110001100011100100010010111000010011100011001011011101010110001111100111010101100101001000001011100111100100011101000000100111100010011000011000101111010000101110011001001101110011001011110110000111000100001110000011000000001001000000101010110001011100111000111111000101001001100010000011100001111010101110010011111010010110000101000100111000000100000101011000110101010001011101011011110011110001011111000100001101000001111010010100001000010010001110110000000001111010010100111111110111000001101011001000010111011010111101100111110010111001011111000000011101111110110100011111010001000010100100101101010111001101010100010111011011111011011111001100010001010001100101111101000100011010011100101110111001110101000010101111001111110100000011001000000010000000011011001111110011101001101010100110101110101110100010111100101010101001110111000010010000110101000000000110111000110111101000100001011010000000000110001101101010101111000111110000110001111110111100101010001011000011011110011101111110111100011101111001100100100111100000001001111010100110101101101101001100010100101101110011010001001000001011010000010010001100100000001011001010011100111111111100001110001010010110011011011011000110101010010111110010011100100001110000010110011101110001011111001100001110010111100101011001001100101111100011111101010100011101110101011110010001100001010100000000101110110000110011010100111100001001011011101010010110100111000000111100011001100011000000101001011100001011001000111000001110011011001000110100100100100000110100011110100111100001011111010000010100001101101011110000101000010001011111000101000101010111110101100011101100101100001100111000001100100010001000010010011100010010010100110001101001011011111111000100111001011111100011101011001101100101011010100110100001011100111011100001101000010110101001001101111100010101011101001011101111110011000111101000001001110100110111011011011010100110100010110111000111000110001011111101100010111100100011110001010011010001011000011001110101010110101010111111010011010010110110110010011100101111110101000000100100001111001011011111101101010010110011001100101100001011001111101011101011011101110000111111111101001000011001011001100001100001110010110110100111110101101100010101101010110110110011100111010101100100011001001011101100001100110100100100111110001000001101011101100010010111001010101000101001111101111111001101001110001100100110011001001100101110011010001010011101101100111010000001111001010101011100011100010011111101110000101010001100110111101011010011010101111101011111001101010100011011110110110000001011011011010001000010001010000011010011001110101101110000011000011101000111111010111011001100001010000110100110110010101001010000100110111010111000111100000010000111000011110110111100000110000110101001110111010010101101000000100010100010000110101101011101001101100100010011010101100001100101011110101010111111000011000100111000011101110101010000010000001001010010111000111101011000100110111001110001010011100100011111111101100000100100101100001110111011001100100101000111001001100101010111011110011100111100000000110110111011111010001111100000100101000010111111100110110000100000000011101100100110111101100110110101111101111001000000100110010011110010100000011001101100011011000111011001010101100100011110001000111010001001010101001111010111010011001111101010011001000001111010111110100110001101110110011111100111110101100000001111110010101100010110100101100101101010010100111000011000001010001001111111110100111011111001001110011010100010100000000100001000100111111000101011101000010101000001101110100001100000101100001110001100011110001011011100010010110011010010100011100101111001101011100111001110100101011001110100100011000110111101100111001110101111011001001111000010011100110011101111011000011100111011011000010011101110001000100011101001011001010001010111110000110111101110010010111000111010111101010101011000001100001100100000110101001110011100010011101000000001001000101110001101111000100110111100000011000100011010010111100001111110011010000001110000111111101010100110011111010110010001100011111000110011000111000100000000110000010000111101110101000011111001010110000100001010011001001001110000110000001110000010110101101001110100000100100010000001011100101000101101000100011110111001011000000000000011100000100001001011011101111110010001000100001001010100111101100100001001011110111111000111100000011101111001110001101101101101001111100110011101011110001110000011110111110000111100001000101111010010011011111111100111110001100000110010011000100101000110110001011010100100001010110101100010110111000100101010110111100001010111001010111111101011101101001010111111100010101110100101011101111101110110110000100101011001001111010110111011101001000001010000001010111001011110000100111011011111110110001100011011111010001001001110111000111100100010110011110100110111001101010001111101101010111001110100101111011000011001100111111001110000000001010000000010010010100111101101101010100011110100101001010101010011111101000111101000000100001000010100011111111000100011100000000010001110111111100111000110100101111011101001000000110011010011000001101011100001011100100101001000111111", 10))




